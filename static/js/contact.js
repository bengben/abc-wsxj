$(function(){function b(f,h){var e=$("#"+f);var g=$("."+h);e.click(function(){g.prop("checked",$(this).prop("checked"))})}b("contact-check-all","contact-chkbox");$("#input-search").on("keyup",function(){var e=new RegExp($(this).val(),"i");$(".search-table .search-items:not(.header-item)").hide();$(".search-table .search-items:not(.header-item)").filter(function(){return e.test($(this).text())}).show()});$("#btn-add-contact").on("click",function(e){$("#addContactModal #btn-add").show();$("#addContactModal #btn-edit").hide();$("#addContactModal").modal("show")});function c(){$(".delete").on("click",function(e){e.preventDefault();$(this).parents(".search-items").remove()})}function a(){$("#btn-add").click(function(){var w=$(this).parents(".modal-content");var j=w.find("#c-name");var e=w.find("#c-email");var l=w.find("#c-occupation");var n=w.find("#c-phone");var h=w.find("#c-location");var g=document.getElementsByClassName("validation-text");var A=/^.+@[^\.].*\.[a-z]{2,}$/;var z=/^\d*\.?\d*$/;var k=j.val();var f=e.val();var m=l.val();var o=n.val();var i=h.val();if(k==""){g[0].innerHTML="Name must be filled out";g[0].style.display="block"}else{g[0].style.display="none"}if(f==""){g[1].innerHTML="Email Id must be filled out";g[1].style.display="block"}else{if((A.test(f)==false)){g[1].innerHTML="Invalid Email";g[1].style.display="block"}else{g[1].style.display="none"}}if(o==""){g[2].innerHTML="Invalid (Enter 10 Digits)";g[2].style.display="block"}else{if((z.test(o)==false)){g[2].innerHTML="Please Enter A numeric value";g[2].style.display="block"}else{g[2].style.display="none"}}if(k==""||f==""||(A.test(f)==false)||o==""||(z.test(o)==false)){return false}var C=new Date();var v=String(C.getDate()).padStart(2,"0");var x=String(C.getMonth());var B=String(C.getTime());var D=C.getFullYear();var y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];C=v+" "+y[x]+" "+D;var u=v+x+B;$html='<tr class="search-items"><td><div class="n-chk align-self-center text-center"><div class="checkbox checkbox-info"><input type="checkbox" class="material-inputs contact-chkbox" id="'+u+'"><label class="custom-control-label" for="'+u+'"></label></div></div></td><td><div class="d-flex align-items-center"><img src="../assets/images/background/user1.jpg" alt="avatar" class="rounded-circle" width="35"><div class="ml-2"><div class="user-meta-info"><h5 class="user-name mb-0" data-name='+k+">"+k+'</h5><span class="user-work text-muted" data-occupation='+m+">"+m+'</span></div></div></div></td><td><span class="usr-email-addr" data-email='+f+">"+f+'</span></td><td><span class="usr-location" data-location='+i+">"+i+'</span></td><td><span class="usr-ph-no" data-phone='+o+">"+o+'</span></td><td class="text-center"><div class="action-btn"><a href="javascript:void(0)" class="text-info edit"><i class="mdi mdi-account-edit font-20"></i></a><a href="javascript:void(0)" class="text-dark delete ml-2"><i class="mdi mdi-delete font-20"></i></a></div></td></tr>';$(".search-table > tbody").before($html);$("#addContactModal").modal("hide");var r=j.val("");var p=e.val("");var s=l.val("");var t=n.val("");var q=h.val("");c();d();b("contact-check-all","contact-chkbox")})}$("#addContactModal").on("hidden.bs.modal",function(r){var j=document.getElementById("c-name");var f=document.getElementById("c-email");var k=document.getElementById("c-occupation");var l=document.getElementById("c-phone");var h=document.getElementById("c-location");var g=document.getElementsByClassName("validation-text");var o=j.value="";var m=f.value="";var p=k.value="";var q=l.value="";var n=h.value="";for(var s=0;s<g.length;s++){r.preventDefault();g[s].style.display="none"}});function d(){$(".edit").on("click",function(y){$("#addContactModal #btn-add").hide();$("#addContactModal #btn-edit").show();var A=$(this).parents(".search-items");var z=$("#addContactModal");var n=A.find(".user-name");var e=A.find(".usr-email-addr");var p=A.find(".user-work");var r=A.find(".usr-ph-no");var l=A.find(".usr-location");var o=n.attr("data-name");var f=e.attr("data-email");var q=p.attr("data-occupation");var s=r.attr("data-phone");var m=l.attr("data-location");var i=z.find("#c-name");var g=z.find("#c-email");var j=z.find("#c-occupation");var k=z.find("#c-phone");var h=z.find("#c-location");var v=i.val(o);var t=g.val(f);var w=j.val(q);var x=k.val(s);var u=h.val(m);$("#addContactModal").modal("show");$("#btn-edit").click(function(){var L=$(this).parents(".modal-content");var C=L.find("#c-name");var F=L.find("#c-email");var D=L.find("#c-occupation");var E=L.find("#c-phone");var G=L.find("#c-location");var I=C.val();var B=F.val();var J=D.val();var K=E.val();var H=G.val();var T=n.text(I);var R=e.text(B);var U=p.text(J);var V=r.text(K);var S=l.text(H);var O=n.attr("data-name",I);var M=e.attr("data-email",B);var P=p.attr("data-occupation",J);var Q=r.attr("data-phone",K);var N=l.attr("data-location",H);$("#addContactModal").modal("hide")})})}$(".delete-multiple").on("click",function(){var e=$(".contact-chkbox:checked").parents(".search-items");e.remove()});c();a();d()});var $_getValidationField=document.getElementsByClassName("validation-text");var reg=/^.+@[^\.].*\.[a-z]{2,}$/;var phoneReg=/^\d{10}$/;getNameInput=document.getElementById("c-name");getNameInput.addEventListener("input",function(){getNameInputValue=this.value;if(getNameInputValue==""){$_getValidationField[0].innerHTML="Name Required";$_getValidationField[0].style.display="block"}else{$_getValidationField[0].style.display="none"}});getEmailInput=document.getElementById("c-email");getEmailInput.addEventListener("input",function(){getEmailInputValue=this.value;if(getEmailInputValue==""){$_getValidationField[1].innerHTML="Email Required";$_getValidationField[1].style.display="block"}else{if((reg.test(getEmailInputValue)==false)){$_getValidationField[1].innerHTML="Invalid Email";$_getValidationField[1].style.display="block"}else{$_getValidationField[1].style.display="none"}}});getPhoneInput=document.getElementById("c-phone");getPhoneInput.addEventListener("input",function(){getPhoneInputValue=this.value;if(getPhoneInputValue==""){$_getValidationField[2].innerHTML="Phone Number Required";$_getValidationField[2].style.display="block"}else{if((phoneReg.test(getPhoneInputValue)==false)){$_getValidationField[2].innerHTML="Invalid (Enter 10 Digits)";$_getValidationField[2].style.display="block"}else{$_getValidationField[2].style.display="none"}}});